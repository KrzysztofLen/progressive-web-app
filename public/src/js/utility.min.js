const dbPromise=idb.open("contacts-store",1,t=>{t.objectStoreNames.contains("contacts")||t.createObjectStore("contacts",{keyPath:"id"}),t.objectStoreNames.contains("sync-contacts")||t.createObjectStore("sync-contacts",{keyPath:"id"})}),setAllData=(t,e)=>dbPromise.then(o=>{const c=o.transaction(t,"readwrite");return c.objectStore(t).put(e),c.complete}),getAllData=t=>dbPromise.then(e=>e.transaction(t,"readonly").objectStore(t).getAll()),clearAllData=t=>dbPromise.then(e=>{const o=e.transaction(t,"readwrite");return o.objectStore(t).clear(),o.complete}),deleteItemFromDatabase=(t,e)=>dbPromise.then(o=>{const c=o.transaction(t,"readwrite");return c.objectStore(t).delete(e),c.complete});